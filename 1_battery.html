<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>1. Theo D√µi Pin (Battery)</title>
    <style>body { font-family: sans-serif; padding: 20px; }</style>
</head>
<body>
    <h1>üîã 1. Theo D√µi Pin (Battery Status)</h1>
    <p>Facebook c√≥ th·ªÉ bi·∫øt b·∫°n c√≤n bao nhi√™u % pin v√† c√≥ ƒëang s·∫°c hay kh√¥ng.</p>
    
    <div id="status" style="border: 1px solid #ccc; padding: 10px; background: #f9f9f9;">
        ƒêang t·∫£i th√¥ng tin pin...
    </div>

    <script>
        // API n√†y ho·∫°t ƒë·ªông t·ªët tr√™n Chrome/Edge/Android. (Firefox ƒë√£ b·ªè v√¨ l√Ω do b·∫£o m·∫≠t)
        navigator.getBattery().then(function(battery) {
            function updateAllBatteryInfo(){
                updateChargeInfo();
                updateLevelInfo();
            }
            updateAllBatteryInfo();

            // L·∫Øng nghe s·ª± ki·ªán khi s·∫°c ho·∫∑c r√∫t s·∫°c
            battery.addEventListener('chargingchange', function(){
                updateChargeInfo();
            });
            // L·∫Øng nghe s·ª± ki·ªán khi % pin thay ƒë·ªïi
            battery.addEventListener('levelchange', function(){
                updateLevelInfo();
            });

            function updateChargeInfo(){
                const statusDiv = document.getElementById('status');
                const chargingStatus = battery.charging ? "‚ö° ƒêang c·∫Øm s·∫°c" : "üîã ƒêang d√πng pin";
                console.log("Tr·∫°ng th√°i s·∫°c: " + chargingStatus);
                document.getElementById('charge-status').innerText = chargingStatus;
            }

            function updateLevelInfo(){
                const level = (battery.level * 100).toFixed(0) + "%";
                console.log("Dung l∆∞·ª£ng pin: " + level);
                document.getElementById('level-status').innerText = level;
            }
        });
    </script>
    
    <h3>K·∫øt qu·∫£:</h3>
    <ul>
        <li>Tr·∫°ng th√°i: <b id="charge-status">...</b></li>
        <li>Dung l∆∞·ª£ng: <b id="level-status">...</b></li>
    </ul>
</body>
</html>
